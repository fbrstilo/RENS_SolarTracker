{% extends 'base.html' %}

{% block head %}
<script type="module" src="{{ url_for('static', filename='scripts/scripts_index.js') }}"></script>
{% endblock %}

{% block body %}
<div class="main-content">
    <h1>RENS Solar Tracker</h1>
    <div class="box">
        <table>
			<tr>
				<th>Device ID</th>
				<th>Status</th>
				<th>Last seen</th>
				<th>Angle</th>
			</tr>
			{% for device in devices %}
			<tr>
				<td>{{device}}</td>
				<td>{{devices[device]['state']}}</td>
				<td>{{devices[device]['last-seen'] | ctime}}</td>
				<td><div class=angle-container value="{{devices[device]['current-position']}}">{{'%.2f' | format(devices[device]['current-position'])}}Â°<div class="line" id="{{device}}"></div></div></td>
			</tr>
			{% endfor %}
		</table>
    </div>
</div>
{% endblock %}